import { Meta, Canvas, Controls, PureArgsTable } from '@storybook/blocks';
import * as FormStories from './TForm.stories';
import {
  columnArgsType,
  inputColumnArgsType,
  selectColumnArgsType,
  remotePropsType,
  cascadeColumnArgsType,
  checkboxArgsType,
  selectGroupArgsType,
  jsonObjectArgsType,
  jsonArrayArgsType,
  slotArgsType,
} from './column';

<Meta title="Component/TForm" of={FormStories} />

## Common

`FormColumnProps` çš„å®šä¹‰, æ˜¯å®ç°é…ç½®çº¦å®šUIçš„é‡è¦æ‰‹æ®µã€‚ `FormColumnProps` é…ç½®å¤šè€Œæ‚, åœ¨æ­¤åˆ—å‡ºè¯¥è¡¨æ ¼, ä¾›å¼€å‘è¿‡ç¨‹ä¸­è¿›è¡ŒæŸ¥é˜…ğŸ˜€

> å¯¼å…¥
>
> ```typescrit
> import { FormColumnProps } from '@/components/tform'
> ```

<PureArgsTable rows={columnArgsType} />

åœ¨æ¥ä¸‹éƒ¨åˆ†è¯¦ç»†ä»‹ç»å¯¹äºæ¯ä¸€ç§ `column` çš„ç±»å‹ã€‚

## FormInputColumnProps

<Canvas of={FormStories.Input} />

`[type=input]` ç±»å‹æ´¾ç”Ÿè‡ª [FormColumnProps](?path=/docs/component-tform--column#common)ï¼Œ ä¸[SEMIUIçš„Inputç»„ä»¶](https://semi.design/zh-CN/input/input)ã€‚

ä¸‹é¢æ˜¯å…¶ç±»å‹å®šä¹‰ï¼š

```tsx
type FormInputColumnProps<T extends Entity> = FormColumnProps<T> & InputProps;
```

## FormNumberColumnProps

<Canvas of={FormStories.Number} />

`[type=number]` ç±»å‹æ´¾ç”Ÿè‡ª [FormColumnProps](?path=/docs/component-tform--column#common)ï¼Œä¸[SEMIUIçš„Numberç»„ä»¶](https://semi.design/zh-CN/input/inputnumber)

ä¸‹é¢æ˜¯å…¶ç±»å‹å®šä¹‰ï¼š

```tsx
type FormNumberColumnProps<T extends Entity> = FormColumnProps<T> &
  InputNumberProps;
```

## FormTextareaColumnProps

<Canvas of={FormStories.Textarea} />

`[type=textarea]` ç±»å‹æ´¾ç”Ÿè‡ª [FormColumnProps](?path=/docs/component-tform--column#common)ï¼Œä¸[SEMIUIçš„Inputç»„ä»¶](https://semi.design/zh-CN/input/input)

ä¸‹é¢æ˜¯å…¶ç±»å‹å®šä¹‰ï¼š

```tsx
type FormTextareaColumnProps<T extends Entity> = FormColumnProps<T> &
  TextAreaProps;
```

## FormPasswordColumnProps

<Canvas of={FormStories.Password} />

`[type=password]` ç±»å‹æ´¾ç”Ÿè‡ª [FormColumnProps](?path=/docs/component-tform--column#common)

ä¸‹é¢æ˜¯å…¶ç±»å‹å®šä¹‰ï¼š

```tsx
type FormPasswordColumnProps<T extends Entity> = FormColumnProps<T>;
```

## FormRateColumnProps

<Canvas of={FormStories.Rate} />

`[type=rate]` ç±»å‹æ´¾ç”Ÿè‡ª [FormColumnProps](?path=/docs/component-tform--column#common)ï¼Œä¸[SEMIUIçš„Ratingç»„ä»¶](https://semi.design/zh-CN/input/rating)

ä¸‹é¢æ˜¯å…¶ç±»å‹å®šä¹‰ï¼š

```tsx
type FormRateColumnProps<T extends Entity> = FormColumnProps<T> &
  RatingItemProps;
```

## FormSliderColumnProps

<Canvas of={FormStories.Slider} />

`[type=slider]` ç±»å‹æ´¾ç”Ÿè‡ª [FormColumnProps](?path=/docs/component-tform--column#common)ï¼Œä¸[SEMIUIçš„Sliderç»„ä»¶](https://semi.design/zh-CN/input/slider)

ä¸‹é¢æ˜¯å…¶ç±»å‹å®šä¹‰ï¼š

```tsx
type FormSliderColumnProps<T extends Entity> = FormColumnProps<T> & SliderProps;
```

## FormSelectColumnProps

<Canvas of={FormStories.Select} />

`[type=select]` ç±»å‹æ´¾ç”Ÿè‡ª [FormColumnProps](?path=/docs/component-tform--column#common)ï¼Œä¸[SEMIUIçš„Select](https://semi.design/zh-CN/input/select)

```tsx
type FormSelectColumnProps<T extends Entity> = FormColumnProps<T> &
  Omit<SelectProps, 'optionList'> & {
    optionList?: Constant[];
    dictionary?: string;
    remote?: RemoteProps;
  };
```

å¯ä»¥çœ‹åˆ°ä¸Šé¢çš„ç±»å‹å®šä¹‰ï¼Œè¯¥ç»„ä»¶åœ¨SEMIUIåŸºç¡€ä¸Šï¼Œå¢åŠ ä¸¤ä¸ªç‰¹åˆ«çš„å±æ€§ï¼Œ`dictionary` ä»¥åŠ `remote`ã€‚è¯¥ä¸¤ä¸ªå±æ€§æ˜¯ä¸ºäº†é€‚é…TubroUIçš„æ•´ä½“ç³»ç»Ÿè€Œè¿›è¡Œè®¾è®¡ï¼Œ
ä¹Ÿå°±æ˜¯å¯ä»¥æ ¹æ®ç³»ç»Ÿçš„å­—å…¸å€¼çš„Key(dictionaryçš„å€¼)ï¼Œæˆ–è€…è‡ªå®šä¹‰å‚æ•°è°ƒç”¨è¿œç¨‹æ¥å£ã€‚[æŸ¥çœ‹RemotePropsè¯¦ç»†å±æ€§](?path=/docs/component-tform--column#remoteprops)

<PureArgsTable rows={selectColumnArgsType} />

## FormTreeSelectColumnProps

<Canvas of={FormStories.TreeSelect} />

`[type=treeSelect]` ç±»å‹æ´¾ç”Ÿè‡ª [FormColumnProps](?path=/docs/component-tform--column#common)ï¼Œä¸[SEMIUIçš„TreeSelect](https://semi.design/zh-CN/input/treeselect)

ä¸‹é¢æ˜¯å…¶ç±»å‹å®šä¹‰ï¼š

```tsx
type FormTreeSelectColumnProps<T extends Tree> = FormColumnProps<T> &
  Omit<TreeSelectProps, 'treeData'> & {
    self?: boolean;
    treeTransform?: (
      tree: T[],
      labelRender?: (tree: T) => React.ReactNode,
    ) => TreeNodeData[];
    treeData:
      | TreeNodeData[]
      | ((formContext?: FormContext<T>) => TreeNodeData[]);
    remote?: RemoteProps<TreeConstant>;
  };
```

## FormCascadeColumnProps

<Canvas of={FormStories.Cascade} />

`[type=cascade]` ç±»å‹æ´¾ç”Ÿè‡ª [FormColumnProps](?path=/docs/component-tform--column#common)ï¼Œä¸[SEMIUIçš„Cascade](https://semi.design/zh-CN/input/cascader)

ä¸‹é¢æ˜¯å…¶ç±»å‹å®šä¹‰ï¼š

```tsx
type FormCascadeColumnProps<T extends Entity> = FormColumnProps<T> &
  CascaderProps & {
    optionTree:
      | TreeConstant[]
      | ((formContext: FormContext<T>) => TreeConstant[]);
  };
```

<PureArgsTable rows={cascadeColumnArgsType} />

## FormTransferColumnProps

<Canvas of={FormStories.Transfer} />

`[type=transfer]` ç±»å‹æ´¾ç”Ÿè‡ª [FormColumnProps](?path=/docs/component-tform--column#common)ï¼Œä¸[SEMIUIçš„Transfer](https://semi.design/zh-CN/input/transfer)

ä¸‹é¢æ˜¯å…¶ç±»å‹å®šä¹‰ï¼š

```tsx
type FormTransferColumnProps<T extends Entity> = FormColumnProps<T> &
  TransferProps;
```

## FormRadioColumnProps

<Canvas of={FormStories.Radio} />

`[type=radio]` ç±»å‹æ´¾ç”Ÿè‡ª [FormColumnProps](?path=/docs/component-tform--column#common)ï¼Œä¸[SEMIUIçš„Radio](https://semi.design/zh-CN/input/radio)

ä¸‹é¢æ˜¯å…¶ç±»å‹å®šä¹‰ï¼š

```tsx
type FormRadioColumnProps<T extends Entity> = FormColumnProps<T> & RadioProps;
```

## FormCheckboxColumnProps

<Canvas of={FormStories.Checkbox} />

`[type=checkbox]` ç±»å‹æ´¾ç”Ÿè‡ª [FormColumnProps](?path=/docs/component-tform--column#common)

ä¸‹é¢æ˜¯å…¶ç±»å‹å®šä¹‰ï¼š

```tsx
type FormCheckboxColumnProps<T extends Entity> = FormColumnProps<T> & {
  options?: Constant[];
  extraText?: string;
};
```

<PureArgsTable rows={checkboxArgsType} />

## FormSwitchColumnProps

<Canvas of={FormStories.Switch} />

`[type=switch]` ç±»å‹æ´¾ç”Ÿè‡ª [FormColumnProps](?path=/docs/component-tform--column#common)ï¼Œä¸[SEMIUIçš„Switch](https://semi.design/zh-CN/input/switch)

ä¸‹é¢æ˜¯å…¶ç±»å‹å®šä¹‰ï¼š

```tsx
type FormSwitchColumnProps<T extends Entity> = FormColumnProps<T> & SwitchProps;
```

## FormDateColumnProps

<Canvas of={FormStories.Date} />

`[type=date]` ç±»å‹æ´¾ç”Ÿè‡ª [FormColumnProps](?path=/docs/component-tform--column#common)ï¼Œä¸[SEMIUIçš„Date](https://semi.design/zh-CN/input/datepicker)

ä¸‹é¢æ˜¯å…¶ç±»å‹å®šä¹‰ï¼š

```tsx
type FormDateColumnProps<T extends Entity> = FormColumnProps<T> &
  DateInputProps & {
    // é»˜è®¤ä¸ºdatetime
    dateType?:
      | 'date'
      | 'dateRange'
      | 'year'
      | 'month'
      | 'dateTime'
      | 'dateTimeRange'
      | 'monthRange';
  };
```

## FormDateRangeColumnProps

<Canvas of={FormStories.DateRange} />

`[type=dateRange]` ç±»å‹æ´¾ç”Ÿè‡ª [FormColumnProps](?path=/docs/component-tform--column#common)ï¼Œä¸[SEMIUIçš„Date](https://semi.design/zh-CN/input/datepicker)

ä¸‹é¢æ˜¯å…¶ç±»å‹å®šä¹‰ï¼š

```tsx
type FormDateRangeColumnProps<T extends Entity> = FormColumnProps<T> &
  DatePickerProps & {
    // é»˜è®¤ä¸ºdatetime
    dateType?:
      | 'date'
      | 'dateRange'
      | 'year'
      | 'month'
      | 'dateTime'
      | 'dateTimeRange'
      | 'monthRange';
  };
```

## FormTimeColumnProps

<Canvas of={FormStories.Time} />

`[type=time]` ç±»å‹æ´¾ç”Ÿè‡ª [FormColumnProps](?path=/docs/component-tform--column#common)ï¼Œä¸[SEMIUIçš„Date](https://semi.design/zh-CN/input/datepicker)

ä¸‹é¢æ˜¯å…¶ç±»å‹å®šä¹‰ï¼š

```tsx
type FormTimeColumnProps<T extends Entity> = FormColumnProps<T> &
  TimeInputProps & {
    // é»˜è®¤ä¸ºdatetime
    dateType?:
      | 'date'
      | 'dateRange'
      | 'year'
      | 'month'
      | 'dateTime'
      | 'dateTimeRange'
      | 'monthRange';
  };
```

## FormTimeRangeColumnProps

<Canvas of={FormStories.TimeRange} />

`[type=timeRange]` ç±»å‹æ´¾ç”Ÿè‡ª [FormColumnProps](?path=/docs/component-tform--column#common)ï¼Œä¸[SEMIUIçš„Date](https://semi.design/zh-CN/input/datepicker)

ä¸‹é¢æ˜¯å…¶ç±»å‹å®šä¹‰ï¼š

```tsx
type FormTimeRangeColumnProps<T extends Entity> = FormColumnProps<T> &
  TimePickerProps & {
    // é»˜è®¤ä¸ºdatetime
    dateType?:
      | 'date'
      | 'dateRange'
      | 'year'
      | 'month'
      | 'dateTime'
      | 'dateTimeRange'
      | 'monthRange';
  };
```

## FormUploadProps

<Canvas of={FormStories.Upload} />

`[type=upload]` ç±»å‹æ´¾ç”Ÿè‡ª [FormColumnProps](?path=/docs/component-tform--column#common)ï¼Œä¸[SEMIUIçš„Date](https://semi.design/zh-CN/input/upload)

ä¸‹é¢æ˜¯å…¶ç±»å‹å®šä¹‰ï¼š

```tsx
type FormUploadProps<T extends Entity> = FormColumnProps<T> & UploadProps;
```

## FormUploadDragProps

<Canvas of={FormStories.UploadDrag} />

`[type=UploadDrag]` ç±»å‹æ´¾ç”Ÿè‡ª [FormColumnProps](?path=/docs/component-tform--column#common)ï¼Œä¸[SEMIUIçš„Date](https://semi.design/zh-CN/input/upload)

ä¸‹é¢æ˜¯å…¶ç±»å‹å®šä¹‰ï¼š

```tsx
type FormUploadDragProps<T extends Entity> = FormColumnProps<T> & UploadProps;
```

## FormIconColumnProps

<Canvas of={FormStories.Icon} />

`[type=icon]` ç±»å‹æ´¾ç”Ÿè‡ª [FormColumnProps](?path=/docs/component-tform--column#common)

ä¸‹é¢æ˜¯å…¶ç±»å‹å®šä¹‰ï¼š

```tsx
export type FormIconColumnProps<T extends Entity> = FormColumnProps<T>;
```

## FormColorColumnProps

<Canvas of={FormStories.Color} />

`[type=color]` ç±»å‹æ´¾ç”Ÿè‡ª [FormColumnProps](?path=/docs/component-tform--column#common)

ä¸‹é¢æ˜¯å…¶ç±»å‹å®šä¹‰ï¼š

```tsx
export type FormColorColumnProps<T extends Entity> = FormColumnProps<T>;
```

## FormSelectGroupColumnProps

<Canvas of={FormStories.SelectGroup} />

`[type=selectGroup]` ç±»å‹æ´¾ç”Ÿè‡ª [FormColumnProps](?path=/docs/component-tform--column#common)ã€‚å†…ç½®ä½¿ç”¨[FormSelectColumnProps](?path=/docs/component-tform--column#formselectcolumnprops)

ä¸‹é¢æ˜¯å…¶ç±»å‹å®šä¹‰ï¼š

```tsx
type FormSelectGroupColumnProps<T extends Entity> = FormColumnProps<T> & {
  filter?: boolean;
  multiple?: boolean;
  optionList?: GroupConstant[];
  remote?: RemoteProps;
};
```

<PureArgsTable rows={selectGroupArgsType} />

## FormJsonObjectColumnProps

JsonObjectå…è®¸æ„å»ºåµŒå¥—å¼çš„è¡¨å•é…ç½®é¡¹ï¼Œä»–çš„ `columns` å±æ€§å…è®¸åƒé…ç½® `column` ä¸€æ ·é…ç½® é…ç½®æ¸²æŸ“çš„è¡¨å•é¡¹ ä¸€ä¸ªç®€å•çš„é…ç½®å¦‚ä¸‹ï¼š

```json
[
  {
    field: 'id',
    type: 'jsonObject',
    label: 'id',
    columns: [
      {
        field: 'name',
        type: 'input',
        label: 'name',
      },
      {
        field: 'password',
        type: 'password',
        label: 'password',
      },
    ],
  },
];
```

<Canvas of={FormStories.JsonObject} />

`[type=jsonObject]` ç±»å‹æ´¾ç”Ÿè‡ª [FormColumnProps](?path=/docs/component-tform--column#common)ã€‚

ä¸‹é¢æ˜¯å…¶ç±»å‹å®šä¹‰ï¼š

```tsx
type FormJsonObjectColumnProps<T extends Entity> = FormColumnProps<T> & {
  // definition json columns
  columns: FormColumnProps<T>[];
};
```

<PureArgsTable rows={jsonObjectArgsType} />

## FormJsonArrayColumnProps

JsonArrayçš„æœºåˆ¶ç±»ä¼¼äºJsonObjectï¼Œåªä¸è¿‡æœ€åæ¸²æŸ“å‡ºæ¥çš„æ˜¯æ•°ç»„å¯¹è±¡ï¼Œä¸€ä¸ªç®€å•çš„é…ç½®å¦‚ä¸‹ï¼š

```json
[
  {
    "field": "id",
    "type": "jsonArray",
    "label": "id",
    "columns": [
      {
        "field": "name",
        "type": "input",
        "label": "name"
      },
      {
        "field": "password",
        "type": "password",
        "label": "password"
      }
    ]
  }
]
```

<Canvas of={FormStories.JsonArray} />

`[type=jsonArray]` ç±»å‹æ´¾ç”Ÿè‡ª [FormColumnProps](?path=/docs/component-tform--column#common)ã€‚

ä¸‹é¢æ˜¯å…¶ç±»å‹å®šä¹‰ï¼š

```tsx
type FormJsonArrayColumnProps<T extends Entity> = FormColumnProps<T> & {
  // definition json columns
  columns: FormColumnProps<T>[];
};
```

<PureArgsTable rows={jsonObjectArgsType} />

## FormUserColumnProps | FormRoleColumnProps | FormOrgColumnProps | FormPostColumnProps

ä»¥ä¸‹å››è€…çš†æ˜¯æ´¾ç”Ÿäº[FormSelectColumnProps](?path=/docs/component-tform--column#formselectcolumnprops)ï¼Œé€šè¿‡å†…ç½®[RemoteProps](?path=/docs/component-tform--column#remoteprops)ï¼Œæ¥å®ç°

- FormUserColumnProps: ç³»ç»Ÿå†…ç½®ç”¨æˆ·ã€‚
  <Canvas of={FormStories.User} />
  `[type=user]` ç±»å‹æ´¾ç”Ÿè‡ª
  [FormColumnProps](?path=/docs/component-tform--column#common)ã€‚
- FormRoleColumnProps: ç³»ç»Ÿå†…ç½®è§’è‰²ã€‚
  <Canvas of={FormStories.Role} />
  `[type=role]` ç±»å‹æ´¾ç”Ÿè‡ª
  [FormColumnProps](?path=/docs/component-tform--column#common)ã€‚
- FormOrgColumnProps: ç³»ç»Ÿå†…ç½®ç»„ç»‡ã€‚
  <Canvas of={FormStories.Org} />
  `[type=org]` ç±»å‹æ´¾ç”Ÿè‡ª
  [FormColumnProps](?path=/docs/component-tform--column#common)ã€‚
- FormPostColumnProps: ç³»ç»Ÿå†…ç½®å²—ä½ã€‚
  <Canvas of={FormStories.Post} />
  `[type=post]` ç±»å‹æ´¾ç”Ÿè‡ª
  [FormColumnProps](?path=/docs/component-tform--column#common)ã€‚

## FormCodeEditorColumnProps

<Canvas of={FormStories.CodeEditor} />

`CodeEditor` è¡¨å•ç»„ä»¶ï¼Œæ‹“å±•äºç³»ç»Ÿå†…ç½®ç»„ä»¶ï¼Œè¯¦ç»†å¯ä»¥æŸ¥çœ‹ğŸ‘‰ [è¯¦æƒ…](?path=/docs/component-codeeditor--docs)

`[type=codeEditor]` ç±»å‹æ´¾ç”Ÿè‡ª [FormColumnProps](?path=/docs/component-tform--column#common)ã€‚ä»¥åŠ `CodeEditorProps`.

ä¸‹é¢æ˜¯å…¶ç±»å‹å®šä¹‰ï¼š

```tsx
type FormCodeEditorColumnProps<T extends Entity> = FormColumnProps<T> &
  Pick<CodeEditorProps, 'language' | 'completion' | 'basicSetup'>;
```

## FormSlotColumnProps

`FormSlotColumnProps` å…è®¸ç”¨æˆ·è‡ªå®šä¹‰è¡¨å•ç»„ä»¶ï¼Œè¿™å¯¹äºæœ‰äº›æ—¶å€™æ˜¯æœ‰å¾ˆå¤§å¸®åŠ©çš„ã€‚

<Canvas of={FormStories.Slot} />

<PureArgsTable rows={slotArgsType} />

## RemoteProps

ä¸€ä¸ªé€šç”¨è¿œç¨‹è°ƒç”¨å±æ€§å®šä¹‰ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š

```json
{
  "url": "/api/sys/user/list",
  "method": "post",
  "mapping": [
    { "key": "code", "value": "code" },
    { "key": "data", "value": "data" },
    { "key": "success", "value": 200 },
    { "key": "value", "value": "id" },
    { "key": "label", "value": "username" }
  ]
}
```

<PureArgsTable rows={remotePropsType} />
